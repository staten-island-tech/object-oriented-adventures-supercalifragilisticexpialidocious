import time, sys, os, hashlib, json, Prologue, map, Maingrounds
from Prologue import Dialogue, Worlds
from map import Maps
from Maingrounds import Mainground

def anim(text, delay=0.0375):
    for char in text:
        print(char, end='', flush=True)
        time.sleep(delay)
    print()

class Game:
    cache = ""

    def changeLine(self, inp, index):
        sp = Game.cache.split(f"\n")
        sp[index] = inp
        Game.cache = (f"\n").join(sp)
  
    def reload(self):
        os.system("cls")
        print(Game.cache)

    def fullscreenprompt(self):
        anim("\n\n")
        
        def terminalfullscreen():
            anim("                                                            I S   Y O U R   T E R M I N A L   C U R R E N T L Y   O N   F U L L   S C R E E N ?    \n")
            time.sleep(1)
            a = input("                                                           ---------------------------------------------------------------------------------------    \n\n                                                                          [1] Y E S                  |                  [2] N O                         \n")
            if a == '2':
                os.system("cls")
                Game.cache = f"\n\n\n"
                anim("                                            THIS GAME IS MEANT TO BE PLAYED IN FULL SCREEN — drag the top of your terminal box to the very top of your display.     \n")
                terminalfullscreen()
            elif a == '1':
                pass
            else:
                os.system("cls")
                anim("\n\n\n\n\n                                                               PLEASE ONLY PICK CHOICES [1] OR [2]! - [1] for YES, and [2] for NO.     \n")
                terminalfullscreen()
                
        terminalfullscreen()

    def loadinganimation(self, iterations=1):
        chars = "/—\\|"
        for _ in range(iterations):
            for char in chars:
                sys.stdout.write(f"\rLoading {char}")
                sys.stdout.flush()
                time.sleep(0.25)


    def beginninggraphic(self):
        os.system("cls")
        self.loadinganimation(3)
        os.system("cls")
        print("                                                                                    **#%%@%* ")
        print("                                                                                    =**%%%%@@%%*")  
        print("                                                                                    +##*%%@@%@@@%+")
        print(" ")                               
        print("                                            :=*%.                             ▄███████▄ ███    █▄     ▄████████    ▄████████ ███    █▄   ▄█      ███           ")
        print("                           =+****+=*=*****###%#*                              ███    ███ ███    ███   ███    ███   ███    ███ ███    ███ ███  ▀█████████▄      ")
        print("                    ::=:==+%%%%%%*%%%#%%%%@%%%*                               ███    ███ ███    ███   ███    ███   ███    █▀  ███    ███ ███▌    ▀███▀▀██      ")
        print("                :=++****##**#%@@@%@@@%%%%%%%%                                 ███    ███ ███    ███  ▄███▄▄▄▄██▀   ███        ███    ███ ███▌     ███   ▀   ███")
        print("           .-=+**#%%%#%%%@@%%*%@@@@@@@%%%@@*                                ▀█████████▀  ███    ███ ▀▀███▀▀▀▀▀   ▀███████████ ███    ███ ███▌     ███          ")
        print("  *%****+*###%%%%@@@@%@@@@@@@%#+%%%%%%%%%*                                    ███        ███    ███ ▀███████████          ███ ███    ███ ███      ███       ███")
        print("   :%%%@@@%@@@@@@@@@@@@@@@@@@@@%#+*%%%%=                                      ███        ███    ███   ███    ███    ▄█    ███ ███    ███ ███      ███                          ")
        print("      *%@@@@@@@@@@@@@@@@@@@@@@@@%#**+:                                       ▄████▀      ████████▀    ███    ███  ▄████████▀  ████████▀  █▀      ▄████▀                        ")
        print("          =%@@@@@@@@@@@@@@@@@@@@@@%%#+*++-                                                                                                                                     ")
        print("                       .-*#%%#%@@@@@%%%***=++-                      .-=+=++:                                                                                                   ")
        print("                                *@@@@@@%%%**#*+=-.              ==+=====***+:....  +###%#%#%%%*#*#*+*#**#*+=**===+*=*++==*++*==*=**+=-===*++=:                                 ")
        print("                                  #@@@%@@%%%##**=++=====-=+===*=+==****+**+*:. ..:=###**#%%#%*#*#*+***+==+****+==+****+==+****=***+==+*=+++++==+*=-:::                         ")
        print("                                   =@@@@@@@@@%*##***#++**+**+****#*#**##+#%*::::-#*+*###*++*+*+=+**+==*++=+*+=+**+==+*+=+**+==*++=+*+=+**+==*++==+==*****+=++=                 ")
        print("                                     +@@@@@@@%%%%%%*#+#%#%+*#%#*%%%*%##**%%*::::#%#*##**#**##*++*+*++**-+*+***+**#*++*+*++**-+*+***++*+*++**-+*+***+**++********=              ")
        print("                                                                        %%#%%%*-::=%##*%%%%***#%##%%%%***#%%*+*%%#******#%%##*%#%%%##*##*##***##*+*****+*+*##*#**##**:         ")
        print("                                                                          %%%%%%#***%%%%#%#%%%%%%%%%**#%%%#%%%%#**%%**%%%%=-        ==#%#*#%%##%%%%%%#%%%%%%%%%%%%%%*          ")
        print(" ▄██████▄   ▄████████    ▄████████    ▄████████ ███▄▄▄▄   ██  ▄████████    @%%%%%%%%%%%%%%#%%%%%%%%%**%@%%%%%%%###%%##%#-               .*%%%%#%%@@@@%@@@@@@@@%%%%%%%%:        ")
        print(" ███    ███ ███    ███   ███    ███   ███    ███ ███▀▀▀██▄   ███    ███     @@%@@@@%@@@@@%%%@@@@@@@%%#%@@@%%%@%%%%%%*:                    *@%%%%%@@@@@@@@@@@@@@@@@%%%%%-       ")
        print(" ███    ███ ███    █▀    ███    █▀    ███    ███ ███   ███   ███    █▀      @@@@@@@@@@@@@@@@@@@@@@@@%%@@@@@@@@@%@@@%=                      #%%#%%%%%%@@@@@@@@@@@@@@@@@@%%.     ")
        print(" ███    ███ ███         ▄███▄▄▄       ███    ███ ███   ███   ███             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@%=                 -%@@%%%%@@@%%%%@@@@@@@@@@@@@@@%%     ")
        print(" ███    ███ ███        ▀▀███▀▀▀     ▀███████████ ███   ███ ▀███████████      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=              =%@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@*    ")
        print(" ███    ███ ███    █▄    ███    █▄    ███    ███ ███   ███          ███     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@%@@%%:   ")
        print(" ███    ███ ███    ███   ███    ███   ███    ███ ███   ███    ▄█    ███     @@@@@@@@@@@@@      @@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@+.     .:%#*+==+*%@@@@@@@@@@@@@@@@@@@%@%%   ")
        print("  ▀██████▀  ████████▀    ██████████   ███    █▀   ▀█   █▀   ▄████████▀     @@@@@@@@@@@@@        @         @@@@@@@@@@@@@@@@@@@@=                          .=*%@@@@@@@@%@%%%%    ")
        print("                                                                          @@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@*                                      ..:=*%@%:     ")
        print("                                                                         @@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@=     .. .               ........:::::.::::::::       ")
        print("                                                                         ##@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@+     ....:..:::......::::::::::::::::::::::...          ")
        print("                                                                           =@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@*    ..::::::::::::::::::::::::::::::::::..              ")
        print("                                  ▄████████ ███▄▄▄▄   ████████▄              %@@@@@@@@@@@@@@@@       @@@@@@@@@@@@@@@@@@%.   ..:.:::::::::::::::::::::::::::::..                ")
        print("                                  ███    ███ ███▀▀▀██▄ ███   ▀███              =%@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@*+*%#:.:::::::::::::::::::::::::::...                        ")
        print("                                  ███    █▀  ███   ███ ███    ███                 -#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@****%%%%%:::::::::::::::::::.....  .+%@@%%=                   ")
        print("                                 ▄███▄▄▄     ███   ███ ███    ███                       +#%%@@@@@@@@@@@@@@@@@@%+**#%%%%%@@%@#=...........    *%@@@@@@@@@@@@@%                  ")
        print("                                ▀▀███▀▀▀     ███   ███ ███    ███                                            ***#%%%%%+                      #@@@@@@@@@@@@@@@@=                ")
        print("                                  ███    █▄  ███   ███ ███    ███                                          *+*%%%%%%%=                       *%@%%@@@@@@@@@@@@@*               ")
        print("                                  ███    ███ ███   ███ ███   ▄███                                        -+*%@%@@@%%-                        =@@@@@@@@@@@@@@@@@@*              ")
        print("                                  ██████████  ▀█   █▀  ████████▀                                        **#%%@@@@%%                           %@@@%@@@@@@@@@@@@@%              ")
        print("                                                                                                      :*#%@@@@@@@%                             %@@@@@@@@@@@@@@@@@#             ")
        print("                                                                                                     +#%%@@@@@@@%                               +@@@@@@@@@@@@@@@@@             ")
        print("                                                                                                   .*%@%%@@@@@@*                                   #@@@@@@@@@@@@@@             ")
        print("                                                                                                  =%@%@@@@@@@@=                                      :%@@@@@@@@@@:             ")
        print("                                                                                                 #%%%@%@@@@@*                                           +#@@@@#=               ")
        print("                                                                                               =%@%@%%@@@@+                                                                    ")
        print("                                                                                              #@@%%%@%%%-                                                                      ")
        print("                                                                                             -@@@%@%=                                                                          ")
        time.sleep(1.25)
        anim("T E X T   B A S E D   G A M E   P R O D U C T I O N   O F   P D . 6   W E N   Q I A N   Z H E N G   &   S A R A H   S H A O")
        time.sleep(3)
        os.system("cls")
        self.loadinganimation(2)
        os.system("cls")

if __name__ == "__main__":
    game = Game()
    game.reload()
    anim("                                                              P L E A S E    P L A Y    O N    M A X I M U M    T E R M I N A L    W I N D O W    ")
    time.sleep(0.25)
    anim("\n")
    time.sleep(0.5)
    anim("                                                                               trigger warnings: bright flashes, jumpscares    ")
    time.sleep(1)
    game.fullscreenprompt()
    game.beginninggraphic()
    


Dialogue.start()
Worlds.mainground()
Mainground.maingrounds()
Worlds.tundra()
Maps.map("🌲","🌊", "👹") # tundra